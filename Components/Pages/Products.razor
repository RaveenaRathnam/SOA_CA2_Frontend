@using SOA_CA2_Frontend.Services;
@inject ApiService ApiService;
@using SOA_CA2_Frontend.Models;

<link href="/css/Products.css" rel="stylesheet" />

<div class="products-container">
    @if (products.Count == 0)
    {
        <p>Loading products...</p>
    }
    else
    {
        foreach (var product in products)
        {
            <div class="product-card">
                <img src="@product.imageUrl" alt="@product.product_Name" />
                <h3>@product.product_Name</h3>
                <p>@product.description</p>
                <p class="price">$@product.price</p>
                <button class="add-to-cart-btn">Add to Cart</button>
            </div>
        }
    }
</div>

@code {
    private List<ProductModel> products = new();

    protected override async Task OnInitializedAsync()
    {
        products = await ApiService.GetProductsAsync();
    }
}
